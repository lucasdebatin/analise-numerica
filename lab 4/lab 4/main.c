#include "sistlinear.h"

int main(void)
{ 
	double** M1 = mat_cria(3, 3);
	M1[0][0] = 1.0; M1[0][1] = 2.0; M1[0][2] = -1.0;
	M1[1][0] = 2.0; M1[1][1] = 1.0; M1[1][2] = -2.0;
	M1[2][0] = -3.0; M1[2][1] = 1.0; M1[2][2] = 1.0; 

	double b1[3] = { 3.0,3.0,-6.0 };
	double** M2 = mat_cria(6, 6);
	M2[0][0] = 3.0; M2[0][1] = -1.0; M2[0][2] = 0.0; M2[0][3] = 0.0; M2[0][4] = 0.0; M2[0][5] = 0.5;
	M2[1][0] = -1.0; M2[1][1] = 3.0; M2[1][2] = -1.0; M2[1][3] = 0.0; M2[1][4] = 0.5; M2[1][5] = 0.0;
	M2[2][0] = 0.0; M2[2][1] = -1.0; M2[2][2] = 3.0; M2[2][3] = -1.0; M2[2][4] = 0.0; M2[2][5] = 0.0;
	M2[3][0] = 0.0; M2[3][1] = 0.0; M2[3][2] = -1.0; M2[3][3] = 3.0; M2[3][4] = -1.0; M2[3][5] = 0.0;
	M2[4][0] = 0.0; M2[4][1] = 0.5; M2[4][2] = 0.0; M2[4][3] = -1.0; M2[4][4] = 3.0; M2[4][5] = -1.0;
	M2[5][0] = 0.5; M2[5][1] = 0.0; M2[5][2] = 0.0; M2[5][3] = 0.0; M2[5][4] = -1.0; M2[5][5] = 3.0;

	double b2[6] = { 2.5, 1.5, 1.0, 1.0, 1.5, 2.5 };

	int* p1 = fatoracao(3,M1);
	double* x1 = substituicao(3, M1, p1, b1);
	int* p2 = fatoracao(6, M2);
	double* x2 = substituicao(6, M2,p2,b2);
	int i;

//	mat_imprime(3, 3, M1, "%.16g");

	printf("vetor x1:\n");
	for (i = 0; i < 3; i++)
	{
		printf("%g", x1[i]);
		printf(" ");
	}

	
	printf("\nvetor x2:\n");
	for (i = 0; i < 6; i++) {
		printf("%g", x2[i]);
		printf(" ");
	}

	free(p1);
	mat_libera(3,M1);
	mat_libera(6, M2);
	free(p2);
	free(x1);
	free(x2);
	return 0;
}